import{m as e,b as l,u as t,V as a,f as n,d as o,e as u}from"./VInput-BGypikvD.js";import{p as s,s as r,ac as i,C as c,t as d,H as f,az as p,d as v,m,a8 as x,al as y,F as V,bm as g,af as b,ao as h,aG as _}from"./index-2SkDt_TU.js";import{I as k}from"./loader-B-9DN2BB.js";const C=["color","file","time","date","datetime-local","week","month"],I=s({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...e(),...l()},"VTextField"),S=r()({name:"VTextField",directives:{Intersect:k},inheritAttrs:!1,props:I(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){function s(l,t){var a,n;e.autofocus&&l&&(null==(n=null==(a=t[0].target)?void 0:a.focus)||n.call(a))}function r(){var e;H.value!==document.activeElement&&(null==(e=H.value)||e.focus()),z.value||D()}function k(e){B("mousedown:control",e),e.target!==H.value&&(r(),e.preventDefault())}function I(e){r(),B("click:control",e)}function S(l){l.stopPropagation(),r(),h((()=>{P.value=null,_(e["onClick:clear"],l)}))}function F(l){var t;const a=l.target;if(P.value=a.value,(null==(t=e.modelModifiers)?void 0:t.trim)&&["text","search","password","tel","url"].includes(e.type)){const e=[a.selectionStart,a.selectionEnd];h((()=>{a.selectionStart=e[0],a.selectionEnd=e[1]}))}}let{attrs:w,emit:B,slots:j}=l;const P=i(e,"modelValue"),{isFocused:z,focus:D,blur:E}=t(e),M=c((()=>"function"==typeof e.counterValue?e.counterValue(P.value):"number"==typeof e.counterValue?e.counterValue:(""+(P.value??"")).length)),A=c((()=>w.maxlength?w.maxlength:!e.counter||"number"!=typeof e.counter&&"string"!=typeof e.counter?void 0:e.counter)),N=c((()=>["plain","underlined"].includes(e.variant))),T=d(),G=d(),H=d(),O=c((()=>C.includes(e.type)||e.persistentPlaceholder||z.value||e.active));return f((()=>{const l=!!(j.counter||!1!==e.counter&&null!=e.counter),t=!(!l&&!j.details),[i,c]=p(w),{modelValue:d,...f}=a.filterProps(e),b=n(e);return v(a,m({ref:T,modelValue:P.value,"onUpdate:modelValue":e=>P.value=e,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":N.value},e.class],style:e.style},i,f,{centerAffix:!N.value,focused:z.value}),{...j,default:l=>{let{id:t,isDisabled:a,isDirty:n,isReadonly:u,isValid:i}=l;return v(o,m({ref:G,onMousedown:k,onClick:I,"onClick:clear":S,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},b,{id:t.value,active:O.value||n.value,dirty:n.value||e.dirty,disabled:a.value,focused:z.value,error:!1===i.value}),{...j,default:l=>{let{props:{class:t,...n}}=l;const o=x(v("input",m({ref:H,value:P.value,onInput:F,autofocus:e.autofocus,readonly:u.value,disabled:a.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:r,onBlur:E},n,c),null),[[y("intersect"),{handler:s},null,{once:!0}]]);return v(V,null,[e.prefix&&v("span",{class:"v-text-field__prefix"},[v("span",{class:"v-text-field__prefix__text"},[e.prefix])]),j.default?v("div",{class:t,"data-no-activator":""},[j.default(),o]):g(o,{class:t}),e.suffix&&v("span",{class:"v-text-field__suffix"},[v("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:t?t=>{var a;return v(V,null,[null==(a=j.details)?void 0:a.call(j,t),l&&v(V,null,[v("span",null,null),v(u,{active:e.persistentCounter||z.value,value:M.value,max:A.value,disabled:e.disabled},j.counter)])])}:void 0})})),b({},T,G,H)}});export{S as V,I as m};
