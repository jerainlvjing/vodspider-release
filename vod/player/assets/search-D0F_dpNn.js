import{a,b as e,V as t}from"./VBtn-fYrJ95-_.js";import{p as l,X as o,j as s,a0 as r,l as n,n as i,q as d,a1 as u,s as c,x as m,y as p,z as v,a2 as f,a3 as g,a4 as b,a5 as V,H as y,a6 as _,d as h,a7 as j,a8 as x,a9 as k,m as C,b as S,c as w,w as B,L as N,h as q,e as A,M as T,u as X,t as G,O,o as U,a as Y,W as z,f as D,aa as E,g as F,J as H,F as I}from"./index-2SkDt_TU.js";import{V as J}from"./VIcon-DWjsSruu.js";import{c as L,V as M}from"./VCard-BAwN_RQS.js";import{V as P}from"./loader-B-9DN2BB.js";import{V as R}from"./VAppBarTitle-BG6FgY3N.js";import{a as W,c as $,V as K,b as Q}from"./VTabs-ORYq-212.js";import{V as Z}from"./VAppBar-CVtkhLxW.js";import{a as aa,V as ea}from"./VRow-DJ5y3hSR.js";import"./elevation-DyP75-Bh.js";import"./VAvatar-N9S0wcjS.js";import"./VToolbar-VdkbdfVm.js";import"./index-Dt7l_SBc.js";import"./VSlideGroup-DmflEvdz.js";/* empty css              */const ta=l({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:o,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...s(),...r({location:"top end"}),...n(),...i(),...d(),...u({transition:"scale-rotate-transition"})},"VBadge"),la=c()({name:"VBadge",inheritAttrs:!1,props:ta(),setup(a,e){const{backgroundColorClasses:t,backgroundColorStyles:l}=m(p(a,"color")),{roundedClasses:o}=v(a),{t:s}=f(),{textColorClasses:r,textColorStyles:n}=g(p(a,"textColor")),{themeClasses:i}=b(),{locationStyles:d}=V(a,!0,(e=>(a.floating?a.dot?2:4:a.dot?8:12)+(["top","bottom"].includes(e)?+(a.offsetY??0):["left","right"].includes(e)?+(a.offsetX??0):0)));return y((()=>{const u=+a.content,c=!a.max||isNaN(u)?a.content:u>+a.max?a.max+"+":u,[m,p]=_(e.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return h(a.tag,C({class:["v-badge",{"v-badge--bordered":a.bordered,"v-badge--dot":a.dot,"v-badge--floating":a.floating,"v-badge--inline":a.inline},a.class]},p,{style:a.style}),{default:()=>{var p,v;return[h("div",{class:"v-badge__wrapper"},[null==(v=(p=e.slots).default)?void 0:v.call(p),h(j,{transition:a.transition},{default:()=>{var p,v;return[x(h("span",C({class:["v-badge__badge",i.value,t.value,o.value,r.value],style:[l.value,n.value,a.inline?{}:d.value],"aria-atomic":"true","aria-label":s(a.label,u),"aria-live":"polite",role:"status"},m),[a.dot?void 0:e.slots.badge?null==(v=(p=e.slots).badge)?void 0:v.call(p):a.icon?h(J,{icon:a.icon},null):c]),[[k,a.modelValue]])]}})])]}})})),{}}}),oa={class:"d-flex align-center justify-center fill-height"},sa={__name:"Vod",props:{site:{type:String,required:!0},vod:{type:Object,required:!0}},setup:t=>(l,o)=>(S(),w(M,{hover:"",to:{name:"detail",params:{site:t.site,id:t.vod.vod_id}}},{default:B((()=>[h(a,{"aspect-ratio":5/7,cover:"",class:"align-end text-white",gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",src:t.vod.vod_pic},{placeholder:B((()=>[N("div",oa,[h(e,{color:"grey-lighten-4",indeterminate:""})])])),default:B((()=>[t.vod.vod_remarks?(S(),w(la,{key:0,color:"error",inline:"",content:t.vod.vod_remarks},null,8,["content"])):q("",!0),h(L,{class:"translucent-darken-1 text-body-2 pa-1"},{default:B((()=>[A(T(t.vod.vod_name),1)])),_:1})])),_:1},8,["src"])])),_:1},8,["to"]))},ra={__name:"search",props:{wd:{type:String,required:!0}},setup(a){const e=X(),l=Y(),o=a,s=z("axios"),r=G(!1),n=G(void 0),i=O({});return U((async()=>{r.value=!0;const a=[];for(const l of e.sites){if(4!==l.type||!l.searchable)continue;const e=s.get(l.api,{params:{wd:o.wd}}).then((a=>{a.list&&a.list.length>=1&&(i[l.key]={name:l.name,data:a.list},n.value||(n.value=l.key))})).catch((a=>{}));a.push(e)}try{await Promise.all(a)}catch(t){}finally{r.value=!1}})),(a,e)=>{const o=sa;return S(),w(P,{class:"fill-height mx-auto"},{default:B((()=>[h(Z,null,{prepend:B((()=>[h(t,{icon:"mdi-arrow-left",onClick:D(l).back},null,8,["onClick"])])),default:B((()=>[h(R,null,{default:B((()=>[h(W,{modelValue:D(n),"onUpdate:modelValue":e[0]||(e[0]=a=>E(n)?n.value=a:null),"center-active":"","align-tabs":"start"},{default:B((()=>[(S(!0),F(I,null,H(D(i),((a,e)=>(S(),w(K,{key:e,value:e},{default:B((()=>[A(T(a.name),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),h($,{modelValue:D(n),"onUpdate:modelValue":e[1]||(e[1]=a=>E(n)?n.value=a:null)},{default:B((()=>[(S(!0),F(I,null,H(D(i),((a,e)=>(S(),w(Q,{key:e,value:e},{default:B((()=>[h(aa,{dense:""},{default:B((()=>[(S(!0),F(I,null,H(a.data,((a,t)=>(S(),w(ea,{key:t,cols:"4",md:"2"},{default:B((()=>[h(o,{site:e,vod:a},null,8,["site","vod"])])),_:2},1024)))),128))])),_:2},1024)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue"])])),_:1})}}};export{ra as default};
