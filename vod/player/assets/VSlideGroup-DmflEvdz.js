function e(e,l){return(null==l?void 0:l[e?"scrollWidth":"scrollHeight"])||0}function l(e,l,t){if(!t)return 0;const{scrollLeft:n,offsetWidth:a,scrollWidth:o}=t;return e?l?o-a+n:n:t.scrollTop}function t(e,l){return(null==l?void 0:l[e?"offsetWidth":"offsetHeight"])||0}function n(e,l){return(null==l?void 0:l[e?"offsetLeft":"offsetTop"])||0}import{b as a}from"./index-Dt7l_SBc.js";import{p as o,X as s,j as u,b7 as i,n as r,s as v,aj as c,_ as d,A as f,C as p,B as h,bh as m,aL as g,R as y,H as x,d as b,bf as w}from"./index-2SkDt_TU.js";import{e as k,u as E}from"./VBtn-fYrJ95-_.js";import{V as S}from"./VIcon-DWjsSruu.js";const _=o({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Symbol.for("vuetify:v-slide-group")},nextIcon:{type:s,default:"$next"},prevIcon:{type:s,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>"boolean"==typeof e||["always","desktop","mobile"].includes(e)},...u(),...i({mobile:null}),...r(),...k({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),A=v()({name:"VSlideGroup",props:_(),emits:{"update:modelValue":e=>!0},setup(o,s){function u(e,a){let o=0;o=a?function(e){let{selectedElement:l,containerElement:a,isHorizontal:o}=e;const s=t(o,a);return n(o,l)-s/2+t(o,l)/2}({containerElement:q.el,isHorizontal:B.value,selectedElement:e}):function(e){let{selectedElement:a,containerElement:o,isRtl:s,isHorizontal:u}=e;const i=t(u,o),r=l(u,s,o),v=t(u,a),c=n(u,a),d=.4*v;return r>c?c-d:c+v>r+i?c-i+v+d:r}({containerElement:q.el,isHorizontal:B.value,isRtl:W.value,selectedElement:e}),i(o)}function i(n){if(!g||!q.el)return;const a=t(B.value,q.el),o=l(B.value,W.value,q.el);if(e(B.value,q.el)>a&&Math.abs(n-o)>=16){if(B.value&&W.value&&q.el){const{scrollWidth:e,offsetWidth:l}=q.el;n=e-l-n}B.value?P.horizontal(n,$.value):P(n,$.value)}}function r(e){const{scrollTop:l,scrollLeft:t}=e.target;T.value=B.value?t:l}function v(e){if(Q.value=!0,j.value&&G.el)for(const l of e.composedPath())for(const e of G.el.children)if(e===l)return void u(e)}function k(e){Q.value=!1}function _(e){var l;U||Q.value||e.relatedTarget&&(null==(l=G.el)?void 0:l.contains(e.relatedTarget))||H(),U=!1}function A(){U=!0}function z(e){function l(l){e.preventDefault(),H(l)}G.el&&(B.value?"ArrowRight"===e.key?l(W.value?"prev":"next"):"ArrowLeft"===e.key&&l(W.value?"next":"prev"):"ArrowDown"===e.key?l("next"):"ArrowUp"===e.key&&l("prev"),"Home"===e.key?l("first"):"End"===e.key&&l("last"))}function H(e){var l,t;if(!G.el)return;let n;if(e)if("next"===e){if(n=null==(l=G.el.querySelector(":focus"))?void 0:l.nextElementSibling,!n)return H("first")}else if("prev"===e){if(n=null==(t=G.el.querySelector(":focus"))?void 0:t.previousElementSibling,!n)return H("last")}else"first"===e?n=G.el.firstElementChild:"last"===e&&(n=G.el.lastElementChild);else n=w(G.el)[0];n&&n.focus({preventScroll:!0})}function I(e){const l=B.value&&W.value?-1:1;let t=T.value+("prev"===e?-l:l)*F.value;if(B.value&&W.value&&q.el){const{scrollWidth:e,offsetWidth:l}=q.el;t+=e-l}i(t)}let{slots:R}=s;const{isRtl:W}=c(),{displayClasses:M,mobile:C}=d(o),V=E(o,o.symbol),j=f(!1),T=f(0),F=f(0),L=f(0),B=p((()=>"horizontal"===o.direction)),{resizeRef:q,contentRect:D}=h(),{resizeRef:G,contentRect:O}=h(),P=m(),$=p((()=>({container:q.el,duration:200,easing:"easeOutQuart"}))),K=p((()=>V.selected.value.length?V.items.value.findIndex((e=>e.id===V.selected.value[0])):-1)),N=p((()=>V.selected.value.length?V.items.value.findIndex((e=>e.id===V.selected.value[V.selected.value.length-1])):-1));if(g){let e=-1;y((()=>[V.selected.value,D.value,O.value,B.value]),(()=>{cancelAnimationFrame(e),e=requestAnimationFrame((()=>{if(D.value&&O.value){const e=B.value?"width":"height";F.value=D.value[e],L.value=O.value[e],j.value=L.value>F.value+1}K.value>=0&&G.el&&u(G.el.children[N.value],o.centerActive)}))}))}const Q=f(!1);let U=!1;const X=p((()=>({next:V.next,prev:V.prev,select:V.select,isSelected:V.isSelected}))),J=p((()=>{switch(o.showArrows){case"always":return!0;case"desktop":return!C.value;case!0:return j.value||Math.abs(T.value)>0;case"mobile":return C.value||j.value||Math.abs(T.value)>0;default:return!C.value&&(j.value||Math.abs(T.value)>0)}})),Y=p((()=>Math.abs(T.value)>1)),Z=p((()=>{if(!q.value)return!1;const l=e(B.value,q.el),t=function(e,l){return(null==l?void 0:l[e?"clientWidth":"clientHeight"])||0}(B.value,q.el);return l-t-Math.abs(T.value)>1}));return x((()=>b(o.tag,{class:["v-slide-group",{"v-slide-group--vertical":!B.value,"v-slide-group--has-affixes":J.value,"v-slide-group--is-overflowing":j.value},M.value,o.class],style:o.style,tabindex:Q.value||V.selected.value.length?-1:0,onFocus:_},{default:()=>{var e,l,t;return[J.value&&b("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Y.value}],onMousedown:A,onClick:()=>Y.value&&I("prev")},[(null==(e=R.prev)?void 0:e.call(R,X.value))??b(a,null,{default:()=>[b(S,{icon:W.value?o.nextIcon:o.prevIcon},null)]})]),b("div",{key:"container",ref:q,class:"v-slide-group__container",onScroll:r},[b("div",{ref:G,class:"v-slide-group__content",onFocusin:v,onFocusout:k,onKeydown:z},[null==(l=R.default)?void 0:l.call(R,X.value)])]),J.value&&b("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Z.value}],onMousedown:A,onClick:()=>Z.value&&I("next")},[(null==(t=R.next)?void 0:t.call(R,X.value))??b(a,null,{default:()=>[b(S,{icon:W.value?o.prevIcon:o.nextIcon},null)]})])]}}))),{selected:V.selected,scrollTo:I,scrollOffset:T,focus:H,hasPrev:Y,hasNext:Z}}});export{A as V,_ as m};
